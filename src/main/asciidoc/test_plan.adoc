= Test-Plan

Dieser Testplan stellt eine vereinfachte Version der IEEE 829-1998 Vorlage dar.

== Einführung

Das Dokument dient dazu mögliche Testfälle aufzulisten, um auftretende Fehler zu erkennen und zu behandeln. Außerdem dient es als Vorlage für das spätere Implementieren von Unit-Tests und Integrationstests.
Die Zielgruppe stellt hauptsächlich das Entwicklerteam dar.

== Aufbau der Testbezeichner
Nach welchem Schema sind die Tests benannt?

*U - Unit Test, I - Integrationstest*

*U-1, U-2, I-1*

== Test Gegenstände

== Zu testende Funktionalitäten
* Komponenten mit deren Klassen und Methoden
* Zusammenspiel der Komponenten

== Nicht zu testende Funktionalitäten
* verwendete Frameworks wie z.B. Spring, Salespoint

== Herangehensweise

*Klassen werden mit JUnit getestet.*

*Integrationstest nach Bottom-Up Prinzip*

== Umgebungsvoraussetzungen
* Wird spezielle Hardware benötigt?
** Maus
** Tastatur
** Computer
* Welche Daten müssen bereitgestellt werden? Wie werden die Daten bereitgestellt?
** welche: die Daten, die in der Datenbank gespeichert sind: # spring.datasource.url=jdbc:h2:./db/lottery
* Wird zusätzliche Software für das Testen benötigt?
** nein
* Wie kommuniziert die Software während des Testens? Internet? Netzwerk?
** Internet

== Testfälle und Verantwortlichkeit
Jede testbezogene Aufgabe muss einem Ansprechpartner zugeordnet werden.

// See http://asciidoctor.org/docs/user-manual/#tables

[options="headers"]
|===
|ID |Anwendungsfall |Akzeptanztestfall|Vorbedingungen |Eingabe |Ausgabe
|
|CatalogControllerIntegrationTestTicket
|
a|
* Ticket "t" im Katalog:
** Name: name1
** Ziehungszeit: jetzt + 4 Tage
** Preis: 7 Euro
** Typ: TICKET
* 2 Tickets im Katalog
* Model model = new ExtendedModelMap();
a|
* (1) catalogController.ticketCatalog(model);
* (2) lotteryCatalog.findByType(Item.ItemType.TICKET).size()
* (3) ((List<Item>) model.getAttribute("ticketcatalog")).size()
a|
* (1) "3_catalog_num"
* (2) 2
* (3) 2


|
|CatalogControllerIntegrationTestFootball
| Fußballkatalog unregistriert
a|
* Nutzer ist nicht angemeldet
** Optional<UserAccount> opt = Optional.empty();
* Model model = new ExtendedModelMap();
a|
* (1) catalogController.footballCatalog(model,opt);
a|
* (1) "2_catalog_foot"

|
|CatalogControllerWrongInput
|
a|
* Ticket "t" im Katalog:
** Name: name1
** Ziehungszeit: jetzt + 4 Tage
** Preis: 7 Euro
** Typ: TICKET
* ID von "t": "id"
* Kunde "c" existiert
** UserAccount : "ua"
a|
* (1) catalogController.bet_num(id,13,21,6,26,11,6,0,1,Optional.of(ua))
a|
* (1) "wronginput.html"

|
|CatalogControllerError
|
a|
* Ticket "t" im Katalog:
** Name: name1
** Ziehungszeit: jetzt + 4 Tage
** Preis: 7 Euro
** Typ: TICKET
* ID von "t": "id"
* Kunde "c" existiert
** Guthaben: 0 Euro
** UserAccount : "ua"
a|
* (1) catalogController.bet_num(id,13,21,6,26,11,6,0,1,Optional.of(ua))
a|
* (1) "error"

|
|CatalogControllerSuccess
|
a|
* Ticket "t" im Katalog:
** Name: name1
** Ziehungszeit: jetzt + 4 Tage
** Preis: 7 Euro
** Typ: TICKET
* ID von "t": "id"
* Kunde "c" existiert
** Guthaben: 50 Euro
** UserAccount : "ua"
a|
* (1) catalogController.bet_num(id,13,21,6,26,11,6,0,1,Optional.of(ua))
* (2) c.getBalance()
a|
* (1) "redirect:/"
* (2) Money.of(43,EURO)

|
|CatalogControllerFootTimeUp
|
a|
* Fußballspiel "f_timeup" im Katalog:
** Name: n
** Datum/Zeit: heute + 1 Tag, 15:00
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: team1
** Gast: team2
** Liga: liga
** LogoHost: img1
** LogoGast: img2
* ID von "f_timeup": "id_f_timeup"
* Kunde "c" existiert
** UserAccount : "ua"
a|
* (1) catalogController.bet_foot(id_f_timeup,1,12.0,Optional.of(ua))
a|
* (1) "time_up.html"

|
|CatalogControllerFootSuccess
|
a|
* Fußballspiel "f_success" im Katalog:
** Name: n
** Datum/Zeit: heute + 4 Tage, 15:00
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: team1
** Gast: team2
** Liga: liga
** LogoHost: img1
** LogoGast: img2
* ID von "f_success": "id_f_success"
* Kunde "c" existiert
** Guthaben: 40 Euro
** UserAccount : "ua"
a|
* (1) catalogController.bet_foot(id_f_success,1,12.0,Optional.of(ua))
* (2) c.getBalance()
a|
* (1) "redirect:/"
* (2) Money.of(28,EURO)


|
|CatalogControllerFootError
|
a|
* Fußballspiel "f_success" im Katalog:
** Name: n
** Datum/Zeit: heute + 4 Tage, 15:00
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: team1
** Gast: team2
** Liga: liga
** LogoHost: img1
** LogoGast: img2
* ID von "f_success": "id_f_success"
* Kunde "c" existiert
** Guthaben: 0 Euro
** UserAccount : "ua"
a|
* (1) catalogController.bet_foot(id_f_success,1,12.0,Optional.of(ua))
a|
* (1) "error"

|
|CheckInsetFoot
|
a|
* Fußballspiel "f_success" im Katalog:
** Name: n
** Datum/Zeit: heute + 4 Tage, 15:00
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: team1
** Gast: team2
** Liga: liga
** LogoHost: img1
** LogoGast: img2
* ID von "f_success": "id_f_success"
* Kunde "c" existiert
** Guthaben: 40 Euro
** UserAccount : "ua"
a|
* (1#) f_success.addBet(new FootballBet(f_success,LocalDateTime.now(),Money.of(8,EURO),c,LocalDateTime.now().plusDays(7),Ergebnis.GASTSIEG));
a|
* (1#) IllegalArgumentException: "der Wetteinsatz darf nicht kleiner als der Mindesteinsatz sein"

|
|CheckUpdatedBalance
|
a|
* Fußballspiel "f_success" im Katalog:
** Name: n
** Datum/Zeit: heute + 4 Tage, 15:00
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: team1
** Gast: team2
** Liga: liga
** LogoHost: img1
** LogoGast: img2
* ID von "f_success": "id_f_success"
* Kunde "c" existiert
** Guthaben: 40 Euro
** UserAccount : "ua"
a|
* catalogController.bet_foot(id_f_success,1,12.0,Optional.of(ua));
* (1) c.getBalance()
a|
* (1) Money.of(28,EURO)

|
|zahlenlotterieMvcIntegrationTest
|
a|
* Ticketkatalog nicht leer
a|
* mvc.perform(get("/zahlenlotterie")). //
				andExpect(status().isOk()).//
				andExpect(model().attribute("ticketcatalog", is(not(emptyIterable()))))
a|
* keine Exception

|
|footballMvcIntegrationTest
|
a|
* Fußballkatalog enthält mindestens 1 Spiel, das noch nicht stattgefunden hat
a|
* mvc.perform(get("/football")). //
				andExpect(status().isOk()).//
				andExpect(model().attribute("footballcatalog", is(not(emptyIterable()))));
a|
* keine Exception

|
|footballadminMvcIntegrationTest
|
a|
* Fußballkatalog enthält ein Spiel, das schon stattgefunden hat
* Nutzer angemeldet als:
** Nutzername: admin
** Rolle: ADMIN
a|
* (1) mvc.perform(get("/footballadmin")). //
				andExpect(status().isOk()).//
				andExpect(model().attribute("footballcatalog", is(not(emptyIterable()))));
a|
* keine Exception

|
|CustomerControllerIntegrationTestRegisterNew
|
a|
* Registrierung "form":
** Vorname: Anna
** Nachname: Nana
** E-Mail: anna@tu-dresden.de
** Passwort: An123456
* Model model = new ExtendedModelMap();
|customerController.register(model, form);
a|
* wenn Fehler bei der Registrierungseingabe:
** "redirect:/"
* sonst:
** "register"

|
|CustomerControllerIntegrationTestRegister
|
|
* Regsitrierung "form":
** Vorname: Anna
** Nachname: Nana
** E-Mail: anna@tu-dresden.de
** Passwort: An123456
* Model model = new ExtendedModelMap();
a|
* (1) customerController.register(model, form);
a|
* (1) "register"

|
|CustomerControllerIntegrationTestProfile
|
a|
* Kunde "customer" vorhanden:
** UserAccount: "ua"
* Model model = new ExtendedModelMap();
a|
* (1) customerController.getProfile(model, Optional.of(userAccount));
* (2) model.getAttribute("firstname")
* (3) model.getAttribute("lastname")
* (4) model.getAttribute("email")

a|
* (1) "meinProil"
* (2) customer.getUserAccount().getFirstname()
* (3) customer.getUserAccount().getLastname()
* (4) customer.getUserAccount().getEmail()

|
|CustomerControllerIntegrationCustomers
|
|
* angemeldet als Nutzer mit:
** Nutzername: "admin"
** Rolle: "ADMIN"
* Model model = new ExtendedModelMap();
|customerController.customers(model);
|"customers"

|
|CustomerControllerIntegrationCreate
|
|Model model = new ExtendedModelMap();
|customerController.createGroupPage(model);
|"group_create"

|
|CustomerControllerIntegrationTestCharge
|
a|
* Kunde customer vorhanden:
** userAccount
* RedirectAttributes redir = new RedirectAttributesModelMap()
|customerController.charge(0, optional, redir);
|redir.getFlashAttributes().containsKey("message")) == true

|
|customerControllerIntegrationTestExit
|
a|
* beliebiger Kunde "customer" existiert
* Kunde "leader" angelegt:
** Vorname: test
** Nachname: leader
** E-Mail: test@leader.de
** Passwort: 123
* Gruppe group erstellt:
** Name: testGroup
** Leiter: leader
** Mitglieder: leader, customer
* RedirectAttributes redir = new RedirectAttributesModelMap()

a|
* (1.1) customerController.exit("testGroup", optional, redir);
* (1.2) group.getMembers().size()
* (2.1) customerController.exit("testGroup", optional, redir);
* (2.2) group.getMembers().size()
* (2.3) redir.getFlashAttributes().containsKey("message")
* (3.1) customerController.exit("testGroup", Optional.of(leader.getUserAccount()), redir);
* (3.2) customerManagement.findByGroupName("testGroup")

a|
* (1.1) "redirect:/group"
* (1.2) 1
* (2.1) "redirect:/group"
* (2.2) 1
* (2.3) true
* (3.1) "redirect:/group"
* (3.2) null

|
|customerControllerIntegrationTestGroup
|
a|
* Model model = new ExtendedModelMap();
* Kunde "leader" angelegt:
** Vorname: test
** Nachname: leader
** E-Mail: test@leader.de
** Passwort: 123
* Gruppe "group" erstellt:
** Name: testGroup
** Leiter: leader
|
* (1) customerController.groups(model, Optional.of(leader.getUserAccount()));
* (2) model.getAttribute("groups")
|
* (1) "group"
* (2) group (Objekt, leader.getGroup())

|
|customerControllerIntegrationTestJoinGroup
|
a|
* beliebiger Kunde customer existiert
* Kunde "temp" angelegt:
** Name: temp
** Vorname: customer
** E-Mail: temp@customer.de
** Passwort: 123
* Kunde "leader" angelegt:
** Vorname: test
** Nachname: leader
** E-Mail: test@leader.de
** Passwort: 123
* Gruppe "group" erstellt:
** Name: testGroup
** Leiter: leader
** Mitglieder: leader, customer
* RedirectAttributes redir = new RedirectAttributesModelMap();
a|
* (1) group.getMembers().size();
* (2) customerController.joinGroup("testGroup", "0", Optional.of(temp.getUserAccount()), redir);
* (3) group.getMembers().size();
* (4) redir.getFlashAttributes().containsKey("message");
* (5) customerController.joinGroup("testGroup", group.getPassword(), Optional.of(temp.getUserAccount()), redir);
* (6) group.getMembers().size();
* (7) customerController.joinGroup("testGroup", group.getPassword(), Optional.of(temp.getUserAccount()), redir);
* (8) group.getMembers().size();
* (9) redir.getFlashAttributes().containsKey("message");

a|
* (1) 2
* (2) "redirect:/group_join"
* (3) 2
* (4) true
* (5) "redirect:/group"
* (6) 3
* (7) "redirect:/group_join"
* (8) 3
* (9) true

|
|customerControllerIntegrationTestCreateGroup
|
a|
* beliebiger Kunde "customer" existiert
* Kunde "leader" angelegt:
** Vorname: test
** Nachname: leader
** E-Mail: test@leader.de
** Passwort: 123
* Gruppe group erstellt:
** Name: testGroup
** Leiter: leader
** Mitglieder: leader, customer
* RedirectAttributes redir = new RedirectAttributesModelMap()
a|
* (1) customerController.createGroup("testGroup", Optional.of(leader.getUserAccount()), redir);
* (2) redir.getFlashAttributes().containsKey("message")
* (3) customerController.createGroup("testGroup2", Optional.of(leader.getUserAccount()), redir);
* (4) customerManagement.findByGroupName("testGroup2") != null
a|
* (1) "redirect:/group_create"
* (2) true
* (3) "redirect:/group"
* (4) true

|
|createCustomer
|
a|
* RegistrationForm "form":
** Vorname: Test
** Nachname: Customer
** E-Mail: test@customer.de
** Passwort: 123
a|
* customer = customerManagement.createCustomer(form);
* (1) customer.equals(customerManagement.findByCustomerId(customer.getId()))
a|
* (1) true

|
|createGroup()
|
a|
* Kunde "customer" angelegt:
** Vorname: Test
** Nachname: Customer
** E-Mail: test@customer.de
** Passwort: 123
a|
* Group group = customerManagement.createGroup("create group", customer);
* (1) group.equals(customerManagement.findByGroupName("create group"));
a|
* (1) true

|
|deleteGroup()
|
a|
* Kunde "customer" angelegt:
** Vorname: Test
** Nachname: Customer
** E-Mail: test@customer.de
** Passwort: 123
* Gruppe "group" angelegt:
** Name: test group
** Leiter: customer
a|
* customerManagement.deleteGroup(group);
* (1) customerManagement.findByGroupName(group.getGroupName())
a|
* (1) null

|
|findAllCustomers()
|
a|
* Kunde "a" angelegt:
** Vorname: test
** Nachname: alpha
** E-Mail: test@alpha.de
** Passwort: 123
* Kunde "b" angelegt:
** Vorname: test
** Nachname: bravo
** E-Mail: test@bravo.de
** Passwort: 123
* Kunde "c" angelegt:
** Vorname: test
** Nachname: charlie
** E-Mail: test@charlie.de
** Passwort: 123
* Kundenliste "customers":
** Elemente: "a", "b", "c"
a|
* List<Customer> customers1 = customerManagement.findAllCustomers().filter(customer -> customer.getUserAccount().getFirstname().equals("test")).toList();
* (1) customers1.size()
* (2) customers1.equals(customers)
a|
* (1) customers.size()
* (2) true

|
|findAllGroups()
|
a|
* Kunde "leader" angelegt:
** Vorname: test
** Nachname: leader
** E-Mail: test@leader.de
** Passwort: 123
* Gruppe "a" erstellt:
** Name: testA
** Leiter: leader
* Gruppe "b" erstellt:
** Name: testB
** Leiter: leader
* Gruppenliste "groups":
** Elemente: "a", "b"
a|
* List<Group> groups1 = customerManagement.findAllGroups().filter(group -> group.contains(leader)).toList();
* (1) groups1.size()
* (2) groups1.equals(groups)
a|
* (1) groups.size()
* (2) true

|
|addMemberToGroup()
|
a|
* beliebiger Kunde customer existiert
* Kunde "leader" angelegt:
** Vorname: test
** Nachname: leader
** E-Mail: test@leader.de
** Passwort: 123
* Gruppe "testGroup" erstellt:
** Name: testGroup
** Leiter: leader
a|
* (1) testGroup.getMembers().size() == 1
* customerManagement.addMemberToGroup(customer, testGroup, testGroup.getPassword());
* (2) testGroup.getMembers().size() == 2
a|
* (1) true
* (2) true

|
|removeMemberOfGroup()
|
a|
* Kunde "customerA" angelegt
** Vorname: test
** Nachname: alpha
** E-Mail: test@alpha.de
** Passwort: 123
* Kunde "leader" angelegt:
** Vorname: test
** Nachname: leader
** E-Mail: test@leader.de
** Passwort: 123
* Gruppe "testGroup" erstellt:
** Name: testGroup
** Leiter: leader
* Mitglieder von "testGroup": leader, customerA
a|
* (1) testGroup.getMembers().size() == 2
* customerManagement.removeMemberOfGroup(customerA, testGroup);
* (2) testGroup.getMembers().size() == 1
a|
* (1) true
* (2) true

|
|charge()
|
a|
* Kunde "customer" angelegt:
** Vorname: test
** Nachname: charge
** E-Mail: test@charge.de
** Passwort: 123
* Guthaben von "customer": 0 Euro
a|
* customerManagement.charge(Money.of(20, EURO), customer);
* (1) customer.getBalance().isEqualTo(Money.of(20, EURO))
a|
* (1) true

|
|EvalFootballBetsTestNotPossible()
|
a|
* angemeldet als:
** Nutzername: admin
** Rolle: ADMIN
* Fußballspiel "f2" im Katalog:
** Name: n2
** Datum/Zeit: jetzt + 10 min
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: t1
** Gast: t2
** Liga: liga
** logoHost: i1
** logoHost: i2
* ID von "f2": "f2id"
a|
* resultController.evalFootballBets(f2id,1)
a|
* "noFootEval"

|
|EvalFootBetsTestSuccess
|
a|
* angemeldet als:
** Nutzername: admin
** Rolle: ADMIN
* belibiger Kunde "c" existiert
* Fußballspiel "f" im Katalog:
** Name: n
** Datum/Zeit: heute - 1 Tag, 15:00
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: tt1
** Gast: tt2
** Liga: liga
** logoHost: ii1
** logoHost: ii2
* Fußballwette "fb":
** Item: "f"
** Datum/Zeit: jetzt - 5 Tage
** Einsatz: 15 Euro
** Kunde: "c"
** Ablaufdatum: f.getTimeLimit()
** Tipp: UNENTSCHIEDEN
* Wette "fb" zu "f" hinzugefügt
* ID von "f": "fid"
a|
* resultController.evalFootballBets(fid,1)
a|
* "redirect:/"

|
|CheckStatusWIN
|
a|
* angemeldet als:
** Nutzername: admin
** Rolle: ADMIN
* belibiger Kunde "c" existiert
* Fußballspiel "f" im Katalog:
** Name: n
** Datum/Zeit: heute - 1 Tag, 15:00
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: tt1
** Gast: tt2
** Liga: liga
** logoHost: ii1
** logoHost: ii2
* Fußballwette "fb":
** Item: "f"
** Datum/Zeit: jetzt - 5 Tage
** Einsatz: 15 Euro
** Kunde: "c"
** Ablaufdatum: f.getTimeLimit()
** Tipp: UNENTSCHIEDEN
* Wette "fb" zu "f" hinzugefügt
* ID von "f": "fid"
a|
* resultController.evalFootballBets(fid,3);
* (1) fb.getStatus()
* (2) f.getErgebnis()
a|
* (1) Status.WIN
* (2) Ergebnis.UNENTSCHIEDEN

|
|CheckStatusLOSS
|
a|
* angemeldet als:
** Nutzername: admin
** Rolle: ADMIN
* belibiger Kunde "c" existiert
* Fußballspiel "f" im Katalog:
** Name: n
** Datum/Zeit: heute - 1 Tag, 15:00
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: tt1
** Gast: tt2
** Liga: liga
** logoHost: ii1
** logoHost: ii2
* Fußballwette "fb":
** Item: "f"
** Datum/Zeit: jetzt - 5 Tage
** Einsatz: 15 Euro
** Kunde: "c"
** Ablaufdatum: f.getTimeLimit()
** Tipp: UNENTSCHIEDEN
* Wette "fb" zu "f" hinzugefügt
* ID von "f": "fid"
a|
* resultController.evalFootballBets(fid,1);
* (1) fb.getStatus()
* (2) f.getErgebnis()
a|
* (1) Status.LOSS
* (2) Ergebnis.HEIMSIEG

|
|CheckBalanceSame()
|
a|
* angemeldet als:
** Nutzername: admin
** Rolle: ADMIN
* belibiger Kunde "c" existiert
** Guthaben: "balance"
* Fußballspiel "f" im Katalog:
** Name: n
** Datum/Zeit: heute - 1 Tag, 15:00
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: tt1
** Gast: tt2
** Liga: liga
** logoHost: ii1
** logoHost: ii2
* Fußballwette "fb":
** Item: "f"
** Datum/Zeit: jetzt - 5 Tage
** Einsatz: 15 Euro
** Kunde: "c"
** Ablaufdatum: f.getTimeLimit()
** Tipp: UNENTSCHIEDEN
* Wette "fb" zu "f" hinzugefügt
* ID von "f": "fid"
a|
* resultController.evalFootballBets(fid,1);
* (1) c.getBalance()
a|
* (1) balance

|
|CheckBalanceHigher
|
a|
* angemeldet als:
** Nutzername: admin
** Rolle: ADMIN
* belibiger Kunde "c" existiert
** Guthaben: "balance"
* Kunde "ctest"
* Kunde "c2"
** Guthabe: "balance_test"
* Gruppe "gruppe"
** Name: initGroup
** "ctest" ist Mitglied
** Anzahl Mitglider: 2
* Fußballspiel "f" im Katalog:
** Name: n
** Datum/Zeit: heute - 1 Tag, 15:00
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: tt1
** Gast: tt2
** Liga: liga
** logoHost: ii1
** logoHost: ii2
* Fußballwette "fb":
** Item: "f"
** Datum/Zeit: jetzt - 5 Tage
** Einsatz: 15 Euro
** Kunde: "c"
** Ablaufdatum: f.getTimeLimit()
** Tipp: UNENTSCHIEDEN
* Wette "fb" zu "f" hinzugefügt
* Fußballwette "fgroup" (Gruppenwette):
** Item: "f"
** Datum/Zeit: jetzt - 5 Tage
** Einsatz: 16 Euro
** Kunde: "c2"
** Ablaufdatum: f.getTimeLimit()
** Tipp: UNENTSCHIEDEN
* setze Gruppenname von "fgroup" auf: "initGroup"
* Wette "fgroup" zu "f" hinzugefügt
* ID von "f": "fid"
a|
* resultController.evalFootballBets(fid,3);
* (1) c.getBalance()
* (2) ctest.getBalance()
* (3) c2.getBalance()
a|
* (1) balance.add(fb.getInset())
* (2) balance_test.add(Money.of(8,EURO))
* (3) balance_c2.add(Money.of(8,EURO))

|
|EvalNumBetsTestNotPossible
|
a|
* angemeldet als:
** Nutzername: admin
** Rolle: ADMIN
* Ticket "t2" im Katalog:
** Name: B
** Datum: jetzt + 3 Tage
** Preis: 10 Euro
** Typ: TICKET
* ID von "t2": "tid2"
a|
* (1) resultController.evalNumberBets(tid2)
a|
* (1) "keineZiehung"

|
|EvalNumBetsTestSuccess
|
a|
* angemeldet als:
** Nutzername: admin
** Rolle: ADMIN
* belibiger Kunde "c" existiert
* Ticket "t" im Katalog:
** Name: A
** Datum: jetzt - 5 min
** Preis: 10 Euro
** Typ: TICKET
* ID von "t": "tid"
* Zahlenwette "nb":
** Item: t
** Datum: jetzt - 3 Tage
** Einsatz: 10 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt + 4 Tage
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* Zahlenwette "nb2":
** Item: t
** Datum: jetzt - 8 Tage
** Einsatz: 10 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt - 1 Tag
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* Wetten "nb", "nb2" zu "t" hinzugefügt
a|
* (1) resultController.evalNumberBets(tid)
a|
* (1) "redirect:/"

|
|EvalNumBetsTestNotPossible2
|
a|
* angemeldet als:
** Nutzername: admin
** Rolle: ADMIN
* belibiger Kunde "c" existiert
* Ticket "t" im Katalog:
** Name: A
** Datum: jetzt - 5 min
** Preis: 10 Euro
** Typ: TICKET
* ID von "t": "tid"
* Zahlenwette "nb":
** Item: t
** Datum: jetzt - 3 Tage
** Einsatz: 10 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt + 4 Tage
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* Zahlenwette "nb2":
** Item: t
** Datum: jetzt - 8 Tage
** Einsatz: 10 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt - 1 Tag
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* Wetten "nb", "nb2" zu "t" hinzugefügt
a|
* resultController.evalNumberBets(tid);
* (1) resultController.evalNumberBets(tid)
a|
* (1) "keineZiehung"

|
|checkNumBetsStatusWIN
|
a|
* angemeldet als:
** Nutzername: admin
** Rolle: ADMIN
* belibiger Kunde "c" existiert
* Ticket "t" im Katalog:
** Name: A
** Datum: jetzt - 5 min
** Preis: 10 Euro
** Typ: TICKET
* ID von "t": "tid"
* Zahlenwette "nb":
** Item: t
** Datum: jetzt - 3 Tage
** Einsatz: 10 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt + 4 Tage
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* Zahlenwette "nb2":
** Item: t
** Datum: jetzt - 8 Tage
** Einsatz: 10 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt - 1 Tag
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* Wetten "nb", "nb2" zu "t" hinzugefügt
* Liste "l": [1,2,3,4,5,6]
a|
* resultController.evaluateNum(t, LocalDate.now(), l, 0);
* (1) nb.getStatus()
* (2) c.getBalance()
a|
* (1) Status.WIN
* (2) balance.add(nb.getInset())

|
|checkNumBetsStatusLOSS
|
a|
* angemeldet als:
** Nutzername: admin
** Rolle: ADMIN
* belibiger Kunde "c" existiert
* Ticket "t" im Katalog:
** Name: A
** Datum: jetzt - 5 min
** Preis: 10 Euro
** Typ: TICKET
* ID von "t": "tid"
* Zahlenwette "nb":
** Item: t
** Datum: jetzt - 3 Tage
** Einsatz: 10 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt + 4 Tage
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* Zahlenwette "nb2":
** Item: t
** Datum: jetzt - 8 Tage
** Einsatz: 10 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt - 1 Tag
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* Wetten "nb", "nb2" zu "t" hinzugefügt
* Liste "l": [1,2,3,4,5,6]
a|
* resultController.evaluateNum(t, LocalDate.now(), l, 1);
* (1) nb.getStatus()
* (2) c.getBalance()
a|
* (1) Status.LOSS
* (2) balance

|
|checkNumBetsStatusEXPIRED
|
a|
* angemeldet als:
** Nutzername: admin
** Rolle: ADMIN
* belibiger Kunde "c" existiert
* Ticket "t" im Katalog:
** Name: A
** Datum: jetzt - 5 min
** Preis: 10 Euro
** Typ: TICKET
* ID von "t": "tid"
* Zahlenwette "nb":
** Item: t
** Datum: jetzt - 3 Tage
** Einsatz: 10 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt + 4 Tage
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* Zahlenwette "nb2":
** Item: t
** Datum: jetzt - 8 Tage
** Einsatz: 10 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt - 1 Tag
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* Wetten "nb", "nb2" zu "t" hinzugefügt
* Liste "l": [1,2,3,4,5,6]
a|
* resultController.evaluateNum(t, LocalDate.now(), l, 2);
* (1) nb2.getStatus()
a|
* (1) Status.EXPIRED

|
|ViewBetsTest
|
a|
* angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
* UserAccount "ua"
* Ticket "t" im Katalog:
** Name: A
** Datum/Zeit: jetzt + 2 min
** Preis: 10 Euro
** Typ: TICKET
* Zahlenwette "temp":
** Item: "t"
** Datum/Zeit: jetzt
** Einsatz: 10 Euro
** Ablaufdatum/zeit: jetzt + 7 Tage
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 9
* Wette "temp" zu "t" hinzufügen
* 4 Tickets im Katalog:
** default-Ticket: erstellt im CatalogDataInitializer
*** Anzahl Wetten: 0
** "t"
*** Anzahl Wetten: 2
** "t2"
*** Anzahl Wetten: 1
** "t3"
*** Anzahl Wetten: 1
* Model model = new ExtendedModelMap();
a|
* (1) orderController.viewBets(model, Optional.of(ua))
* List<NumberBet> bets = (List<NumberBet>) model.getAttribute("numberBets");
* (2) bets.size()
a|
* (1) "customer_bets"
* (2) 4

|
|RaiseFootBetTestTimeUp
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** UserAccount ua
* Fußballspiel "f" im Katalog:
** Name: abc
** Datum/Zeit: jetzt + 2 Minuten
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: t1
** Gast: t2
** Liga: liga
** LogoHost: i1
** LogoGast: i2
* ID von "f": "fid"
* Fußballwette "fb":
** Item: f
** Datum/Zeit: jetzt - 3 Tage
** Einsatz: 10 Euro
** Kunde: c
** Auslaufdatum: jetzt + 2 min (f.getTimeLimit())
** Tipp: UNENTSCHIEDEN
* ID von "fb": "fb_id"
* "fb" wurde zu "f" hinzugefügt
a|
* (1) orderController.raiseFootBet(fid,fb_id,12.0,Optional.of(ua))
a|
* (1) "time_up.html"

|
|RaiseFootBetTestError
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** UserAccount ua
** Guthaben: 2 Euro
* Fußballspiel "f2" im Katalog:
** Name: def
** Datum/Zeit: jetzt + 1 Tag
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: team1
** Gast: team2
** Liga: 2. liga
** LogoHost: img1
** LogoGast: img2
* ID von "f2": "f2id"
* Fußballwette "fb2":
** Item: f2
** Datum/Zeit: jetzt - 2 Tage
** Einsatz: 12 Euro
** Kunde: c
** Auslaufdatum: jetzt + 1 Tag
** Tipp: UNENTSCHIEDEN
* ID von "fb2": "fb2_id"
* "fb2" wurde zu "f2" hinzugefügt
a|
* (1) orderController.raiseFootBet(f2id,fb2_id,15.0, Optional.of(ua))
* (2) c.getBalance()
a|
* (1) "error"
* (2) Money.of(2,EURO)

|
| RaiseFootBetTestSuccess
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** UserAccount ua
** Guthaben: 10 Euro
* Fußballspiel "f2" im Katalog:
** Name: def
** Datum/Zeit: jetzt + 1 Tag
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: team1
** Gast: team2
** Liga: 2. liga
** LogoHost: img1
** LogoGast: img2
* ID von "f2": "f2id"
* Fußballwette "fb2":
** Item: f2
** Datum/Zeit: jetzt - 2 Tage
** Einsatz: 12 Euro
** Kunde: c
** Auslaufdatum: jetzt + 1 Tag
** Tipp: UNENTSCHIEDEN
* ID von "fb2": "fb2_id"
* "fb2" wurde zu "f2" hinzugefügt
a|
* (1) orderController.raiseFootBet(f2id,fb2_id,15.0, Optional.of(ua))
* (2) fb2.getInset()
* (3) c.getBalance()
a|
* (1) "redirect:/customer_bets"
* (2) Money.of(15,EURO)
* (3) Money.of(7,EURO)

|
|ChangeFootTest
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** UserAccount ua
* Fußballspiel "f2" im Katalog:
** Name: def
** Datum/Zeit: jetzt + 1 Tag
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: team1
** Gast: team2
** Liga: 2. liga
** LogoHost: img1
** LogoGast: img2
* ID von "f2": "f2id"
* Fußballwette "fb2":
** Item: f2
** Datum/Zeit: jetzt - 2 Tage
** Einsatz: 12 Euro
** Kunde: c
** Auslaufdatum: jetzt + 1 Tag
** Tipp: UNENTSCHIEDEN
* ID von "fb2": "fb2_id"
* "fb2" wurde zu "f2" hinzugefügt
* Model model = new ExtendedModelMap();
a|
* (1) orderController.changeFoot(model,f2id,fb2_id)
* (2) (FootballBet) model.getAttribute("footbet")
a|
* (1) "changeFootTip.html"
* (2) fb2

|
| ChangeFootBetTipTestTimeUp
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** UserAccount ua
* Fußballspiel "f" im Katalog:
** Name: abc
** Datum/Zeit: jetzt + 2 Minuten
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: t1
** Gast: t2
** Liga: liga
** LogoHost: i1
** LogoGast: i2
* ID von "f": "fid"
* Fußballwette "fb":
** Item: f
** Datum/Zeit: jetzt - 3 Tage
** Einsatz: 10 Euro
** Kunde: c
** Auslaufdatum: jetzt + 2 min (f.getTimeLimit())
** Tipp: UNENTSCHIEDEN
* ID von "fb": "fb_id"
* "fb" wurde zu "f" hinzugefügt
a|
* (1) orderController.changeFootbetTip(fid,fb_id,2)
* (2) fb.getTip()
a|
* (1) "time_up.html"
* (2) Ergebnis.UNENTSCHIEDEN

|
|ChangeFootBetTipTestSuccess
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** UserAccount ua
* Fußballspiel "f2" im Katalog:
** Name: def
** Datum/Zeit: jetzt + 1 Tag
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: team1
** Gast: team2
** Liga: 2. liga
** LogoHost: img1
** LogoGast: img2
* ID von "f2": "f2id"
* Fußballwette "fb2":
** Item: f2
** Datum/Zeit: jetzt - 2 Tage
** Einsatz: 12 Euro
** Kunde: c
** Auslaufdatum: jetzt + 1 Tag
** Tipp: UNENTSCHIEDEN
* ID von "fb2": "fb2_id"
* "fb2" wurde zu "f2" hinzugefügt
a|
* (1) orderController.changeFootbetTip(f2id,fb2_id,2)
* (2) fb2.getTip()
a|
* (1) "redirect:/customer_bets"
* (2) Ergebnis.GASTSIEG

|
|RemoveFootballBetsTestTimeUp
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** Guthaben: "balance"
** UserAccount ua
* Fußballspiel "f" im Katalog:
** Name: abc
** Datum/Zeit: jetzt + 2 Minuten
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: t1
** Gast: t2
** Liga: liga
** LogoHost: i1
** LogoGast: i2
* ID von "f": "fid"
* Fußballwette "fb":
** Item: f
** Datum/Zeit: jetzt - 3 Tage
** Einsatz: 10 Euro
** Kunde: c
** Auslaufdatum: jetzt + 2 min (f.getTimeLimit())
** Tipp: UNENTSCHIEDEN
* ID von "fb": "fb_id"
* "fb" wurde zu "f" hinzugefügt
a|
* (1) orderController.removeFootballBets(fid,fb_id,Optional.of(ua))
* (2) f.getFootballBets().contains(fb)
* (3) c.getBalance()
a|
* (1) "time_up.html"
* (2) true
* (3) balance

|
|RemoveFootballBetsTestStatusOPEN
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** Guthaben: "balance"
** UserAccount ua
* Fußballspiel "f2" im Katalog:
** Name: def
** Datum/Zeit: jetzt + 1 Tag
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: team1
** Gast: team2
** Liga: 2. liga
** LogoHost: img1
** LogoGast: img2
* ID von "f2": "f2id"
* Fußballwette "fb2":
** Item: f2
** Datum/Zeit: jetzt - 2 Tage
** Einsatz: 12 Euro
** Kunde: c
** Auslaufdatum: jetzt + 1 Tag
** Tipp: UNENTSCHIEDEN
* ID von "fb2": "fb2_id"
* "fb2" wurde zu "f2" hinzugefügt
* Status von "fb2": OPEN
a|
* (1) orderController.removeFootballBets(f2id,fb2_id, Optional.of(ua))
* (2) c.getBalance()
* (3) f2.getFootballBets().contains(fb2)
a|
* (1) "redirect:/customer_bets"
* (2) balance.add(fb2.getInset())
* (3) false

|
|RemoveFootballBetsTestStatusSuccess
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** Guthaben: "balance"
** UserAccount ua
* Fußballspiel "f2" im Katalog:
** Name: def
** Datum/Zeit: jetzt + 1 Tag
** Mindesteinsatz: 10 Euro
** Typ: FOOTBALL
** Heim: team1
** Gast: team2
** Liga: 2. liga
** LogoHost: img1
** LogoGast: img2
* ID von "f2": "f2id"
* Fußballwette "fb2":
** Item: f2
** Datum/Zeit: jetzt - 2 Tage
** Einsatz: 12 Euro
** Kunde: c
** Auslaufdatum: jetzt + 1 Tag
** Tipp: UNENTSCHIEDEN
* ID von "fb2": "fb2_id"
* "fb2" wurde zu "f2" hinzugefügt
* Status von "fb2": VERLOREN
a|
* (1) orderController.removeFootballBets(f2id,fb2_id, Optional.of(ua))
* (2) c.getBalance()
* (3) f2.getFootballBets().contains(fb2)
a|
* (1) "redirect:/customer_bets"
* (2) balance
* (3) false

|
|RemoveFootballBetsTestTimeUp5Minutes
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** Guthaben: "balance"
** UserAccount ua
* Fußballspiel "f3" im Katalog:
** Name: ghi
** Datum/Zeit: jetzt + 5 Minuten
** Mindesteinsatz: 12 Euro
** Typ: FOOTBALL
** Heim: host
** Gast: guest
** Liga: 1. liga
** LogoHost: imgh1
** LogoGast: imgg2
* ID von "f3": "f3id"
* Fußballwette "fb3":
** Item: f3
** Datum/Zeit: jetzt - 3 Tage
** Einsatz: 14 Euro
** Kunde: c
** Auslaufdatum: jetzt + 5 min
** Tipp: UNENTSCHIEDEN
* ID von "fb3": "fb3_id"
* "fb3" wurde zu "f3" hinzugefügt
a|
* (1) orderController.removeFootballBets(f3id,fb3_id, Optional.of(ua))
* (2) f3.getFootballBets().contains(fb3)
* (3) c.getBalance()
a|
* (1) "time_up.html"
* (2) true
* (3) balance

|
|RemoveFootballBetsTestAfterEvaluation
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** Guthaben: "balance"
** UserAccount ua
* Fußballspiel "f4" im Katalog:
** Name: ghi2
** Datum/Zeit: jetzt - 90 Minuten
** Mindesteinsatz: 12 Euro
** Typ: FOOTBALL
** Heim: winner
** Gast: loser
** Liga: 1. liga
** LogoHost: imgw
** LogoGast: imgl
* ID von "f4": "f4id"
* Fußballwette "fb4":
** Item: f4
** Datum/Zeit: jetzt - 3 Tage
** Einsatz: 14 Euro
** Kunde: c
** Auslaufdatum: jetzt - 90 min
** Tipp: UNENTSCHIEDEN
* ID von "fb4": "fb4_id"
* "fb4" wurde zu "f4" hinzugefügt
a|
* (1) orderController.removeFootballBets(f4id,fb4_id, Optional.of(ua))
* (2) f4.getFootballBets().contains(fb4)
* (3) c.getBalance()
* resultController.evalFootballBets(f4id,2);
* (4) orderController.removeFootballBets(f4id,fb4_id,Optional.of(ua))
* (5) f4.getFootballBets().contains(fb4)
* (6) c.getBalance()
a|
* (1) "time_up.html"
* (2) true
* (3) balance
* (4) "redirect:/customer_bets"
* (5) false
* (6) balance

|
|RaiseNumBetTestSuccess
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** Guthaben: 10 Euro
** UserAccount ua
* Ticket "t2" im Katalog:
** Name: B
** Datum: jetzt + 1 Tag
** Preis: 10 Euro
** Typ: TICKET
* ID von "t2": "tid2"
* Zahlenwette "nb2":
** Item: t2
** Datum: jetzt - 2 Tage
** Einsatz: 10 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt + 1 Tag
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* ID von "nb2": "nb2_id"
* Wette "nb2" wurde zu "t2" hinzugefügt
* Model model = new ExtendedModelMap();
a|
* (1) orderController.raiseNumBet(model, tid2,nb2_id,15.0)
* (2) nb2.getInset()
* (3) c.getBalance()
a|
* (1) "redirect:/customer_bets"
* (2) Money.of(15,EURO)
* (3) Money.of(5,EURO)

|
|RaiseNumBetTestError
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** Guthaben: 2 Euro
** UserAccount ua
* Ticket "t2" im Katalog:
** Name: B
** Datum: jetzt + 1 Tag
** Preis: 10 Euro
** Typ: TICKET
* ID von "t2": "tid2"
* Zahlenwette "nb2":
** Item: t2
** Datum: jetzt - 2 Tage
** Einsatz: 10 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt + 1 Tag
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* ID von "nb2": "nb2_id"
* Wette "nb2" wurde zu "t2" hinzugefügt
* Model model = new ExtendedModelMap();
a|
* (1) orderController.raiseNumBet(model, tid2, nb2_id,15.0)
* (2) c.getBalance()
a|
* (1) "error"
* (2) Money.of(2,EURO)

|
|RaiseNumBetTestTimeUp
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** UserAccount ua
* Ticket "t3" im Katalog:
** Name: C
** Datum: jetzt + 5 Minuten
** Preis: 10 Euro
** Typ: TICKET
* ID von "t3": "tid3"
* Zahlenwette "nb3":
** Item: t3
** Datum: jetzt - 3 Tage
** Einsatz: 12 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt + 5 Minuten
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* ID von "nb3": "nb3_id"
* Wette "nb3" wurde zu "t3" hinzugefügt
* Model model = new ExtendedModelMap();
a|
* (1) orderController.raiseNumBet(model, tid3, nb3_id, 12.0)
a|
* (1) "time_up.html"

|
|ChangeNumsTest
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** UserAccount ua
* Ticket "t2" im Katalog:
** Name: B
** Datum: jetzt + 1 Tag
** Preis: 10 Euro
** Typ: TICKET
* ID von "t2": "tid2"
* Zahlenwette "nb2":
** Item: t2
** Datum: jetzt - 2 Tage
** Einsatz: 10 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt + 1 Tag
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* ID von "nb2": "nb2_id"
* Wette "nb2" wurde zu "t2" hinzugefügt
* Model model = new ExtendedModelMap();
a|
* (1) orderController.changeNums(model,tid2,nb2_id)
* (2) (NumberBet) model.getAttribute("numbet")
a|
* (1) "changeNumTip.html"
* (2) nb2

|
|ChangeNumBetTipTestSuccess
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** UserAccount ua
* Ticket "t2" im Katalog:
** Name: B
** Datum: jetzt + 1 Tag
** Preis: 10 Euro
** Typ: TICKET
* ID von "t2": "tid2"
* Zahlenwette "nb2":
** Item: t2
** Datum: jetzt - 2 Tage
** Einsatz: 10 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt + 1 Tag
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* ID von "nb2": "nb2_id"
* Wette "nb2" wurde zu "t2" hinzugefügt
a|
* (1) orderController.changeNumbetTip(tid2, nb2_id, 2, 3, 4, 5, 6, 7, 0)
a|
* (1) "redirect:/customer_bets"

|
|ChangeNumBetTipTestWrongInput
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** UserAccount ua
* Ticket "t2" im Katalog:
** Name: B
** Datum: jetzt + 1 Tag
** Preis: 10 Euro
** Typ: TICKET
* ID von "t2": "tid2"
* Zahlenwette "nb2":
** Item: t2
** Datum: jetzt - 2 Tage
** Einsatz: 10 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt + 1 Tag
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* ID von "nb2": "nb2_id"
* Wette "nb2" wurde zu "t2" hinzugefügt
a|
* (1) orderController.changeNumbetTip(tid2, nb2_id, 2, 2, 4, 5, 6, 7, 0)
a|
* (1) "wronginput.html"

|
|ChangeNumBetTipTestTimeUp
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** UserAccount ua
* Ticket "t3" im Katalog:
** Name: C
** Datum: jetzt + 5 Minuten
** Preis: 10 Euro
** Typ: TICKET
* ID von "t3": "tid3"
* Zahlenwette "nb3":
** Item: t3
** Datum: jetzt - 3 Tage
** Einsatz: 12 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt + 5 Minuten
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* ID von "nb3": "nb3_id"
* Wette "nb3" wurde zu "t3" hinzugefügt
a|
* (1) orderController.changeNumbetTip(tid3, nb3_id, 1, 2, 3, 4, 5, 6, 7)
a|
* (1) "time_up.html"

|
|RemoveNumberBetsTestStatusSuccess
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** Guthaben: "balance"
** UserAccount ua
* Ticket "t2" im Katalog:
** Name: B
** Datum: jetzt + 1 Tag
** Preis: 10 Euro
** Typ: TICKET
* ID von "t2": "tid2"
* Zahlenwette "nb2":
** Item: t2
** Datum: jetzt - 2 Tage
** Einsatz: 10 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt + 1 Tag
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* ID von "nb2": "nb2_id"
* Wette "nb2" wurde zu "t2" hinzugefügt
* Status von "nb2": VERLOREN
a|
* (1) orderController.removeNumberBets(tid2,nb2_id)
* (2) c.getBalance()
* (3) t2.getNumberBits().contains(nb2)
a|
* (1) "redirect:/customer_bets"
* (2) balance
* (3) false

|
|RemoveNumberBetsTestStatusOPEN
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** Guthaben: "balance"
** UserAccount ua
* Ticket "t2" im Katalog:
** Name: B
** Datum: jetzt + 1 Tag
** Preis: 10 Euro
** Typ: TICKET
* ID von "t2": "tid2"
* Zahlenwette "nb2":
** Item: t2
** Datum: jetzt - 2 Tage
** Einsatz: 10 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt + 1 Tag
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* ID von "nb2": "nb2_id"
* Wette "nb2" wurde zu "t2" hinzugefügt
* Status von "nb2": OFFEN
a|
* (1) orderController.removeNumberBets(tid2,nb2_id)
* (2) c.getBalance()
* (3) t2.getNumberBits().contains(nb2)
a|
* (1) "redirect:/customer_bets"
* (2) balance.add(nb2.getInset())
* (3) false

|
|RemoveNumberBetsTestTimeUp
|
a|
* Nutzer(MockUser) angemeldet als:
** Nutzername: test
** Rolle: CUSTOMER
* Kunde "c" existiert
** Guthaben: "balance"
** UserAccount ua
* Ticket "t" im Katalog:
** Name: A
** Datum: jetzt + 2 Minuten
** Preis: 10 Euro
** Typ: TICKET
* ID von "t": "tid"
* Zahlenwette "nb":
** Item: t
** Datum: jetzt - 3 Tage
** Einsatz: 10 Euro
** Kunde: "c"
** Ablaufdatum/zeit: jetzt + 2 Minuten
** Tippzahlen: [1,2,3,4,5,6]
** Superzahl: 0
* ID von "nb": "nb_id"
* Wette "nb" wurde zu "t" hinzugefügt
a|
* (1) orderController.removeNumberBets(tid,nb_id)
* (2) t.getNumberBits().contains(nb)
* (3) c.getBalance()
a|
* (1) "time_up.html"
* (2) true
* (3) balance

|
|StatisticControllerIntegrationTestStatistic
|
a|
* Model model = new ExtendedModelMap();
a|
* (1) statisticController.statistic(model)
a|
* (1) "statistic"

|
|StatisticControllerIntegrationToBetPage
|
a|
* beiliebiger Kunde "customer" existiert
* Model model = new ExtendedModelMap();
a|
* (1) statisticController.toBetPage(model, customer.getId())
a|
* (1) "statistic_bets"

|
|
|
|
|
|

|
|
|
|
|
|

|
|
|
|
|
|
|===


